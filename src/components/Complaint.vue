<template>
  <div class="app-container">
    <div class="projects-section">
      <div class="projects-section-header">
        <p>æŠ•è¯‰åŒº</p>
        <!--      <p class="time">December, 12</p>-->
      </div>
      <div class="projects-section-line">
        <div class="projects-status">
          <div class="item-status">
            <span class="status-number">6</span>
            <span class="status-type">æŠ•è¯‰æ€»æ•°</span>
          </div>
          <div class="item-status">
            <span class="status-number">1</span>
            <span class="status-type">å·²è¯å®æ€»æ•°</span>
          </div>
          <div class="item-status">
            <span class="status-number">1</span>
            <span class="status-type">å¾…è¯å®æ€»æ•°</span>
          </div>
        </div>
        <div class="view-actions">
<!--          <AddComment-->
<!--              placeholder-text="æˆ‘è¦æŠ•è¯‰"-->
<!--              cancel-text="å–æ¶ˆæŠ•è¯‰"-->
<!--              confirm-text="å‘å¸ƒæŠ•è¯‰"-->
<!--              @toFatherQuestionList="receiveChildAddComment"-->
<!--              :company-info-id="companyInfoId"-->
<!--              addType="question"-->
<!--              questionType="question"-->
<!--          >-->
<!--            <template #clickDrawer>-->
              <text class="general_item_2 blue_btn margin-10-left">æˆ‘è¦æŠ•è¯‰</text>
<!--            </template>-->
<!--          </AddComment>-->
        </div>
      </div>
    </div>
    <div class="messages-section">
      <div class="messages margin-20-top">
        <div class="message-box">
          <img class="photo_img" :src="image_arr[0]" alt="profile image">
          <div class="message-content">
            <div class="message-header">
              <div class="name">ğŸ¥³guoguo</div>
              <div class="star-checkbox">
                <input type="checkbox">
              </div>
            </div>
            <text class="message-line margin-20-top">æŠ•è¯‰æè¿°ï¼š</text>
            <p class="message-line margin-20-left">æˆ‘äº2023å¹´5æœˆ1æ—¥åœ¨è´µå…¬å¸è´­ä¹°äº†ä¸€æ‰¹é»‘èƒ¡æ¡ƒæœ¨ï¼Œç”¨äºåˆ¶ä½œå®šåˆ¶çš„è¡£æŸœå’Œä¹¦æ¶ã€‚ä½†åœ¨æ”¶åˆ°è´§ç‰©åï¼Œæˆ‘å‘ç°æ‰€è´­ä¹°çš„é»‘èƒ¡æ¡ƒæœ¨å­˜åœ¨ä¸¥é‡çš„è´¨é‡é—®é¢˜ï¼Œè¿™è®©æˆ‘éå¸¸å¤±æœ›ã€‚
            </p>
            <p class="message-line margin-20-left">
              1ã€éƒ¨åˆ†æœ¨æå­˜åœ¨è™«è›€ç°è±¡ï¼Œå°¤å…¶æ˜¯åœ¨æœ¨æçš„è¾¹ç¼˜å’Œä¸­éƒ¨ã€‚è¿™å¯¼è‡´æœ¨æçš„å¼ºåº¦å¤§å¤§é™ä½ï¼Œæ— æ³•æ‰¿å—é¢„æœŸçš„é‡é‡ã€‚<br/>
              2ã€æœ‰äº›æœ¨æ¿æ˜æ˜¾æœ‰è…æœ½ç°è±¡ï¼Œè´¨åœ°ç–æ¾ï¼Œç”šè‡³å¯ä»¥ç”¨æ‰‹è½»è½»æ°æ–­ã€‚è¿™ç§æœ¨ææ ¹æœ¬æ— æ³•ç”¨äºåˆ¶ä½œå®¶å…·ã€‚<br/>
              3ã€éƒ¨åˆ†æœ¨æè¡¨é¢æœ‰æ·±åº¦çš„åˆ’ç—•å’Œå‡¹é™·ï¼Œä¸¥é‡å½±å“äº†æœ¨æçš„ç¾è§‚å’Œå®¶å…·çš„æ•´ä½“æ•ˆæœã€‚<br/>
              4ã€éƒ¨åˆ†æœ¨æ¿å°ºå¯¸ä¸å‡†ç¡®ï¼Œä¸æˆ‘è®¢è´­æ—¶çš„è¦æ±‚ç›¸å·®ç”šè¿œï¼Œå¯¼è‡´æ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œéœ€é‡æ–°åŠ å·¥ã€‚<br/>
            </p>
            <text class="message-line margin-20-top">è¯æ®ï¼š</text>
            <p class="message-line margin-20-left">
              1ã€è®¢å•ç¼–å·ï¼š#23567 <br/>
              2ã€è´­ä¹°æ—¥æœŸï¼š2023-05-01<br/>
              3ã€æ”¶è´§æ—¥æœŸï¼š2023-05-10<br/>
            </p>
            <text class="message-line margin-20-top">é™„ä»¶ï¼ˆç…§ç‰‡æˆ–è§†é¢‘ï¼‰ï¼š</text>

            <!--            <el-row :gutter="8" class="margin-10-top">-->
<!--              <el-col-->
<!--                  v-for="(itemAskImage, indexAskImage) in itemAsk.image"-->
<!--                  :key="indexAskImage"-->
<!--                  :span="8"-->
<!--                  :md="8"-->
<!--              >-->
<!--                <el-image-->
<!--                    :hide-on-click-modal=true-->
<!--                    :src="itemAskImage"-->
<!--                    class="image_list"-->
<!--                    :zoom-rate="1.2"-->
<!--                    :preview-src-list="itemAsk.image"-->
<!--                    :initial-index="indexAskImage"-->
<!--                    fit="fill"-->
<!--                    lazy />-->
<!--              </el-col>-->
<!--            </el-row>-->
            <p class="message-line time"> 2023-05-01 12:00:00 </p>
          </div>
        </div>
      </div>
    </div>
<!--    <template v-for="(item, index) in list.arr" :key="index">-->
<!--      <div class="messages-section" v-if="index*1 === 0">-->
<!--        <div class="messages margin-20-top">-->
<!--          <div class="message-box" v-for="(itemAsk,indexAsk) in item.answer_list" :key="indexAsk" v-if="item.answer_list">-->
<!--            <img class="photo_img" :src="image_arr[itemAsk.click_index]" alt="profile image">-->
<!--            <div class="message-content">-->
<!--              <div class="message-header">-->
<!--                <div class="name">ğŸ¥³{{name_arr[itemAsk.click_index]}}</div>-->
<!--                <div class="star-checkbox">-->
<!--                  <input type="checkbox" :id="`star-${indexAsk.id}-${indexAsk}`">-->
<!--                  <label :for="`star-${indexAsk.id}-${indexAsk}`">-->
<!--                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star">-->
<!--                      <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">-->
<!--                      </polygon>-->
<!--                    </svg>-->
<!--                  </label>-->
<!--                </div>-->
<!--              </div>-->
<!--              <p class="message-line"> {{itemAsk.answer}}</p>-->
<!--              <el-row :gutter="8" class="margin-10-top">-->
<!--                <el-col-->
<!--                    v-for="(itemAskImage, indexAskImage) in itemAsk.image"-->
<!--                    :key="indexAskImage"-->
<!--                    :span="8"-->
<!--                    :md="8"-->
<!--                >-->
<!--                  <el-image-->
<!--                      :hide-on-click-modal=true-->
<!--                      :src="itemAskImage"-->
<!--                      class="image_list"-->
<!--                      :zoom-rate="1.2"-->
<!--                      :preview-src-list="itemAsk.image"-->
<!--                      :initial-index="indexAskImage"-->
<!--                      fit="fill"-->
<!--                      lazy />-->
<!--                </el-col>-->
<!--              </el-row>-->
<!--              <p class="message-line time"> {{itemAsk.created_time}} </p>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </template>-->
  </div>
</template>
<script>
export default{
  name: 'Complaint'
}
</script>
<script setup>
import {usefulAnswerApi, uselessAnswerApi, cancelAnswerApi, questionListApi} from "../api/question.js";
import "../assets/comment.scss"
import "../assets/fonts.css"

//å¼•å…¥ç”¨æˆ·ä¿¡æ¯å¼€å§‹
import { useUserStore } from "../pinia/user.js";
import AddComment from "../components/AddComment.vue";
import {onMounted, reactive, ref} from "vue";
const userStore = useUserStore();
import { image_arr, name_arr} from "../utils/user.js";
import { ElNotification } from 'element-plus'


const props = defineProps({
  companyInfoId:{
    type: [Number,String],
    default: 0
  },
})
const list = reactive({
  arr: []
})
// //é—®é¢˜
// const all_answer_useful_count = ref(0)
// const answer_count = ref(0)
// const answer_question_count = ref(0)
//
// onMounted(() => {
//   questionListApi({company_info_id: props.companyInfoId,user_id: userStore.userId}).then(async(res) => {
//     if(res.status === 200){
//       console.log('question');
//       console.log(res);
//       list.arr = res.data.data;
//       all_answer_useful_count.value = res.data.all_answer_useful_count;
//       answer_count.value = res.data.answer_count;
//       answer_question_count.value = res.data.answer_question_count;
//     } else{
//       ElNotification({
//         title: 'Error',
//         message: 'å¯èƒ½ç½‘ç»œæœåŠ¡å·®ï¼Œåˆ·æ–°åå†è¯•ä¸€ä¸‹',
//         type: 'error',
//       })
//     }
//   })
// })
// //æŠ•è¯‰ä¹‹åï¼Œå°†é—®é¢˜æ”¾åˆ°é—®ç­”åˆ—è¡¨
// const receiveChildAddComment = (param) => {
//   console.log(param);
//   let question = param.question;
//   if(param.questionType === 'question'){
//     answer_question_count.value = answer_question_count.value * 1 + 1;
//     list.arr.unshift({
//       id: question.id,
//       user_id: userStore.userId,
//       name: userStore.phone,
//       question: question.question,
//       created_time: question.created_time,
//       click_index: question.click_index,
//       answer_count: 0,
//       image: question.image,
//       answer_list:[]
//     })
//   } else {
//     answer_count.value = answer_count.value * 1 + 1;
//     list.arr[param.questionIndex].answer_list.unshift({
//       id: question.id,
//       user_id: userStore.userId,
//       name: userStore.phone,
//       created_time: question.created_time,
//       answer: question.question,
//       useful_count: 0,
//       useless_count: 0,
//       click_index: question.click_index,
//       is_useful: 0,
//       useful_id: 0,
//       image: question.image
//     })
//   }
// }
</script>
<style scoped>
@media screen and (max-width: 520px){
  .image_list_1{
    width: 100%;
    height: 100px;
  }
  .image_list{
    width:100%;
    height: 80px;
  }
}
@media screen and (min-width: 520px){
  .image_list{
    width: 100%;
    height: 170px;
  }
  .image_list_1{
    width: 100%;
    height: 190px;
  }
}
.grey_color{
  color: #4A4A4A;
  opacity: 0.7;
}
/*å›ç­”å¼€å§‹*/
.answer_item_left_2_3_right{
  display: flex;
  flex-direction: row;
  align-self: flex-end;
  align-items: center;
}
.general_item{
  padding: 0px 0px 0px 20px;
}
.general_item_1{
  display: flex;
  flex-direction: row;
  width: 100%;
  justify-content: space-between;
  margin-top: 20px;
}
.messages-section{
  padding: 20px 20px 20px 20px !important;
}
.messages-section .projects-section-header{
  background-color: var(--messages-section-bg) !important;
}
/*å›ç­”ç»“æŸ*/
</style>
